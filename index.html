<script>
  const rules = {
    1: ["08:00", "09:00", "18:00", "19:00"], // hétfő
    3: ["08:00", "09:00", "18:00", "19:00"], // szerda
    5: ["18:00", "19:00"],                   // péntek
    0: ["19:00"]                              // vasárnap
  };

  const slotsDiv = document.getElementById("slots");
  const dateInput = document.getElementById("date");

  let bookings = JSON.parse(localStorage.getItem("bookings")) || {};

  // Maximum létszám meghatározása nap + idő alapján
   function getMax(day, time) {
    // szerda = 3
    if (day === 3 && time === "19:00") {
      return 4; // فقط szerda 19:00 → 4 fő
    }
    return 3; // minden más időpont → 3 fő
  }

  dateInput.addEventListener("change", () => {
    const date = dateInput.value;
    slotsDiv.innerHTML = "";

    if (!date.startsWith("2026")) {
      slotsDiv.innerHTML = "<p>Csak 2026-os dátum választható.</p>";
      return;
    }

    const day = new Date(date).getDay();
    const times = rules[day];

    if (!times) {
      slotsDiv.innerHTML = "<p>Ezen a napon nincs foglalás.</p>";
      return;
    }

    times.forEach(time => {
      const key = date + "_" + time;
      if (!bookings[key]) bookings[key] = [];

      const MAX = getMax(day, time);

      const div = document.createElement("div");
      div.className = "slot " + (bookings[key].length >= MAX ? "booked" : "free");
      div.innerHTML = `<strong>${time}</strong> (${bookings[key].length}/${MAX})`;

      const namesDiv = document.createElement("div");
      namesDiv.className = "names";
      namesDiv.innerText = bookings[key].join(", ");
      div.appendChild(namesDiv);

      if (bookings[key].length < MAX) {
        div.onclick = () => {
          const name = prompt("Add meg a neved:");
          if (!name) return;

          bookings[key].push(name);
          localStorage.setItem(

</html>
